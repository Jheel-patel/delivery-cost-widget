<!DOCTYPE html>
<html>
<head>
    <title>My First Widget</title>
    <script src="//js.jotform.com/JotFormCustomWidget.min.js"></script>
</head>
<body>
    <div id="main">
        <h3>This is my first widget.</h3>
        <label id="labelText">Loading...</label><br>
        <input type="text" id="userInput">
    </div>

    <script>
        // Wait until the widget is ready
        JFCustomWidget.subscribe("ready", function() {
            // Get the 'QuestionLabel' parameter from the widget's settings
            const label = JFCustomWidget.getWidgetSetting("QuestionLabel");
            document.getElementById("labelText").innerHTML = label;

            // Subscribe to form submit
            JFCustomWidget.subscribe("submit", function() {
                const inputValue = document.getElementById('userInput').value;
                JFCustomWidget.sendSubmit({
                    valid: true, // Marks the widget as valid
                    value: inputValue // Passes the value to the form
                });
            });
        });
    </script>
</body>
</html>
